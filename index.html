<html>
  <head>
	<script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script>
        var posicio=0;
        AFRAME.registerComponent("mylink", {
        init: function() {
         this.el.addEventListener("click", (e) => {
            switch (posicio) {
                case 0:
                    console.log("canviant fons 1");
                    document.querySelector('#sortida1').setAttribute('position', '0 1 6');
                    document.querySelector('#sortida1').setAttribute('rotation', '0 180 0');
                    document.querySelector('#sortida2').setAttribute('position', '-6 1 3');
                    document.querySelector('#sortida2').setAttribute('rotation', '0 90 0');
                    document.querySelector('#fons').setAttribute('src', '#hall');
                    document.querySelector('#fons').setAttribute('rotation', '0 120 0');
                    posicio=1;
                    break;
                case 1:
                    console.log("canviant fons 0");
                    document.querySelector('#sortida1').setAttribute('position', '-3.7 1 -4');
                    document.querySelector('#sortida1').setAttribute('rotation', '0 85 0');
                    document.querySelector('#sortida2').setAttribute('position', '-3.7 1 -4');
                    document.querySelector('#sortida2').setAttribute('rotation', '0 85 0');
                    document.querySelector('#fons').setAttribute('src', '#exterior');
                    document.querySelector('#fons').setAttribute('rotation', '0 0 0');
                    posicio=0;
                    break;
                case 2:
                  console.log("canviant fons 1");
                  document.querySelector('#sortida1').setAttribute('position', '0 1 6');
                  document.querySelector('#sortida1').setAttribute('rotation', '0 180 0');
                  document.querySelector('#sortida2').setAttribute('position', '-6 1 3');
                  document.querySelector('#sortida2').setAttribute('rotation', '0 90 0');
                  document.querySelector('#fons').setAttribute('src', '#hall');
                  document.querySelector('#fons').setAttribute('rotation', '0 120 0');
                  posicio=1;
                  break;
              case 3:
                  posicio=2;
                 console.log("canviant fons 2");
                 document.querySelector('#sortida2').setAttribute('position', '-6 1 0');
                 document.querySelector('#sortida2').setAttribute('rotation', '0 90 0');
                 document.querySelector('#sortida1').setAttribute('position', '6 1 0');
                 document.querySelector('#sortida1').setAttribute('rotation', '0 -90 0');
                 document.querySelector('#fons').setAttribute('src', '#passadis1');
                 document.querySelector('#fons').setAttribute('rotation', '0 0 0');
              break;
              case 4:
                  posicio=3;
                 console.log("canviant fons 3");
                 document.querySelector('#sortida2').setAttribute('position', '-6 1 0');
                 document.querySelector('#sortida2').setAttribute('rotation', '0 90 0');
                 document.querySelector('#sortida1').setAttribute('position', '6 1 0');
                 document.querySelector('#sortida1').setAttribute('rotation', '0 -90 0');
                 document.querySelector('#fons').setAttribute('src', '#passadis2');
                 document.querySelector('#fons').setAttribute('rotation', '0 0 0');
              break;
              case 5:
                  posicio=4;
                 console.log("canviant fons 4");
                 document.querySelector('#sortida2').setAttribute('position', '-6 1 0');
                 document.querySelector('#sortida2').setAttribute('rotation', '0 90 0');
                 document.querySelector('#sortida1').setAttribute('position', '6 1 0');
                 document.querySelector('#sortida1').setAttribute('rotation', '0 -90 0');
                 document.querySelector('#fons').setAttribute('src', '#passadis3');
                 document.querySelector('#fons').setAttribute('rotation', '0 0 0');
              break;
              case 6:
                  posicio=5;
                 console.log("canviant fons 6");
                 document.querySelector('#sortida2').setAttribute('position', '-6 1 0');
                 document.querySelector('#sortida2').setAttribute('rotation', '0 90 0');
                 document.querySelector('#sortida1').setAttribute('position', '6 1 0');
                 document.querySelector('#sortida1').setAttribute('rotation', '0 -90 0');
                 document.querySelector('#fons').setAttribute('src', '#passadis4');
                 document.querySelector('#fons').setAttribute('rotation', '0 0 0');
              break;
              case 7:
                  posicio=6;
                 console.log("canviant fons 4");
                 document.querySelector('#sortida2').setAttribute('position', '-6 1 0');
                 document.querySelector('#sortida2').setAttribute('rotation', '0 90 0');
                 document.querySelector('#sortida1').setAttribute('position', '6 1 0');
                 document.querySelector('#sortida1').setAttribute('rotation', '0 -90 0');
                 document.querySelector('#fons').setAttribute('src', '#passadis5');
                 document.querySelector('#fons').setAttribute('rotation', '0 0 0');
              break;
              }
           })
         }
         })
         AFRAME.registerComponent("mylink2", {
         init: function() {
          this.el.addEventListener("click", (e) => {
             switch (posicio) {
               case 1:
                  posicio=2;
                  console.log("canviant fons 3");
                  document.querySelector('#sortida2').setAttribute('position', '-6 1 0');
                  document.querySelector('#sortida2').setAttribute('rotation', '0 90 0');
                  document.querySelector('#sortida1').setAttribute('position', '6 1 0');
                  document.querySelector('#sortida1').setAttribute('rotation', '0 -90 0');
                  document.querySelector('#fons').setAttribute('src', '#passadis1');
                  document.querySelector('#fons').setAttribute('rotation', '0 0 0');
                  break;
              case 2:
                 posicio=3;
                 console.log("canviant fons 4");
                 document.querySelector('#sortida2').setAttribute('position', '-6 1 0');
                 document.querySelector('#sortida2').setAttribute('rotation', '0 90 0');
                 document.querySelector('#sortida1').setAttribute('position', '6 1 0');
                 document.querySelector('#sortida1').setAttribute('rotation', '0 -90 0');
                 document.querySelector('#fons').setAttribute('src', '#passadis2');
                 document.querySelector('#fons').setAttribute('rotation', '0 0 0');
                 break;
            case 3:
               posicio=4;
               console.log("canviant fons 5");
               document.querySelector('#sortida2').setAttribute('position', '-6 1 0');
               document.querySelector('#sortida2').setAttribute('rotation', '0 90 0');
               document.querySelector('#sortida1').setAttribute('position', '6 1 0');
               document.querySelector('#sortida1').setAttribute('rotation', '0 -90 0');
               document.querySelector('#fons').setAttribute('src', '#passadis3');
               document.querySelector('#fons').setAttribute('rotation', '0 0 0');
              break;
          case 4:
             posicio=5;
             console.log("canviant fons 6");
             document.querySelector('#sortida2').setAttribute('position', '-6 1 0');
             document.querySelector('#sortida2').setAttribute('rotation', '0 90 0');
             document.querySelector('#sortida1').setAttribute('position', '6 1 0');
             document.querySelector('#sortida1').setAttribute('rotation', '0 -90 0');
             document.querySelector('#fons').setAttribute('src', '#passadis4');
             document.querySelector('#fons').setAttribute('rotation', '0 0 0');
             break;
         case 5:
            posicio=6;
            console.log("canviant fons 7");
            document.querySelector('#sortida2').setAttribute('position', '-6 1 0');
            document.querySelector('#sortida2').setAttribute('rotation', '0 90 0');
            document.querySelector('#sortida1').setAttribute('position', '6 1 0');
            document.querySelector('#sortida1').setAttribute('rotation', '0 -90 0');
            document.querySelector('#fons').setAttribute('src', '#passadis5');
            document.querySelector('#fons').setAttribute('rotation', '0 0 0');
            break;
        case 6:
           posicio=7;
           console.log("canviant fons 8");
           document.querySelector('#sortida2').setAttribute('position', '-6 10000 0');
           document.querySelector('#sortida2').setAttribute('rotation', '0 90 0');
           document.querySelector('#sortida1').setAttribute('position', '6 1 0');
           document.querySelector('#sortida1').setAttribute('rotation', '0 -90 0');
           document.querySelector('#fons').setAttribute('src', '#gimnas');
           document.querySelector('#fons').setAttribute('rotation', '0 0 0');
           document.querySelector('#model2').setAttribute('visible', 'true');
           document.querySelector('#model2').setAttribute('rotation', '10 70 0');
           break;
              }
            })
          }
          })
    </script>
  </head>
  <body>
	<a-scene cursor="rayOrigin: mouse">
    <a-assets>
        <img id="exterior" src="img/exterior.jpg">
        <img id="hall" src="img/hall.jpg">
        <img id="passadis1" src="img/24.JPG">
        <img id="passadis2" src="img/25.JPG">
        <img id="passadis3" src="img/26.JPG">
        <img id="passadis4" src="img/27.JPG">
        <img id="passadis5" src="img/28.JPG">
        <img id="gimnas" src="img/gimnas.jpg">
        <img id="imgSortida" src="img/entragroc.png ">
        <a-asset-item id="skull" src="gltf/skull/scene.gltf"></a-asset-item>
        <a-asset-item id="dog" src="gltf/dog/scene.gltf"></a-asset-item>
    </a-assets>
    <a-plane id="sortida1" position="-3.7 1 -4" src="#imgSortida" rotation="0 85 0"  transparent="true" mylink=""></a-plane>
    <a-plane id="sortida2" position="1  1 -4" src="#imgSortida" rotation="0 85 0"  transparent="true" mylink2=""></a-plane>
      <a-sky id="fons" src="#exterior"></a-sky>
      <a-entity id="camara" camera look-controls wasd-controls="false"></a-entity>
      <a-entity id="model2" gltf-model="#dog" position="-3 1 -1" visible="false">
        <a-entity id="model1" gltf-model="#skull" position="0 0 0"  scale="0.58 0.58 0.58"></a-entity>
      </a-entity>
   </a-scene>
  </body>
</html>
